@model SkinShop.ViewModel.Cart.CartViewModel

@{
    var sum = 0;
}
<div class="rowz">

</div>
<div class="container">
    <div class="products">
        <div class="txt-heading">Shopping Cart</div>


        <form method="post" asp-controller="Order" asp-action="PlaceOrder">


            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Name</th>
                        <th scope="col">Quantity</th>
                        <th scope="col">Price</th>
                        <th scope="col">Total Price</th>
                        <th scope="col">Action</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.Cart)
                    {
                    <tr>
                        <th scope="row">@item.Product.ProductID</th>
                        <input type="hidden" asp-for="cart.Product.ProductID" value="@item.Product.ProductID" />
                        <td>
                            <label>@item.Product.Productname</label>
                            <input type="hidden" asp-for="cart.Product.Productname" value="@item.Product.Productname" />

                        </td>

                        <td>
                            <input type="text" id="inputquantity" size="3" maxlength="2" value="@item.Amount" asp-for="cart.Amount" />
                        </td>

                        <td>
                            <label>@item.Product.Productprice</label>
                            <input type="hidden" asp-for="cart.Product.Productprice" value="@item.Product.Productprice" />
                        </td>

                        <td>
                            <label>@item.SubTotal</label>
                            <input type="hidden" asp-for="cart.SubTotal" value="@item.SubTotal" />
                        </td>

                        <td>
                            <input type="hidden" value="item.Amount" asp-for="cart.Amount" />
                            <button type="submit" formmethod="post" asp-controller="Cart" asp-action="DeleteProductFromCart" asp-route-ProductID="@item.Product.ProductID">Deletes</button>
                        </td>
                    </tr>
                    }
                    <tr>

                        @foreach (var x in Model.Cart)
                        {
                            sum = Convert.ToInt32(x.SubTotal) + sum;
                        }

                        <td colspan="6" align=right>
                            <strong>
                                Totale Kosten : @sum
                            </strong>
                        </td>
                        @*<form method="post" asp-controller="Product" asp-action="UpdateCart">
                            <td style="text-align:right;border-bottom:#F0F0F0 1px solid;"><button type="submit">Update</button></td>
                        </form>*@
                    </tr>

                </tbody>
                

            </table>
           

            <div class="buttonBestel">
                <button type="submit" name="bestellen">Order</button>
            </div>
        </form>
        <form method="post" asp-controller="Cart" asp-action="DeleteCart">
            <button type="submit">Empty Cart</button>
        </form>
    </div>
</div>